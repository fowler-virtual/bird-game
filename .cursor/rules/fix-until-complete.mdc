---
description: 修正指示は完全に反映されるまで自律的に修正を続ける。未完了のまま「修正しました」と言わない。
alwaysApply: true
---

# 修正・対応の完了基準

## 原則

- ユーザーから**修正指示**や**バグ修正**を依頼された場合、**実際に修正が完了するまで**自律的に作業を続ける。
- 「修正しました」「対応しました」と返答するのは、**以下の検証を終えたあと**に限る。

## 必須の手順（修正依頼時）

1. **変更を加えたあと**
   - 修正したファイルを**必ず読み直す**（Read で内容を確認）。
   - 同じ問題が他にないか（類似コード・呼び出し元・同じパターン）を確認し、あれば**同じ修正をすべて適用**する。

2. **テストがある場合**
   - 関連するテストやビルド（例: `npm run build`）を**実行する**。
   - 失敗したら**原因を特定して修正**し、成功するまで繰り返す。
   - 成功するまで「修正完了」と言わない。

3. **曖昧な場合は追加で確認**
   - 意図が一意に決まらない場合は、**推測で完了にしない**。必要なら短く質問するか、妥当な解釈で直したうえで「この解釈で修正しました。違う意図の場合は教えてください」と明記する。

## 禁止

- 編集を一度入れただけで、ファイルの再読み取りやテストを行わずに「修正しました」と返答しない。
- ユーザーが「テストしたら直っていなかった」と言える状態で完了としない。

## 返答のしかた

- 修正が本当に完了したとき: 「修正しました。〇〇を変更し、△△も同様に直しました。ビルド／テストは通っています。」
- まだ途中のとき: 「〇〇を直しました。続けて△△を確認します」のように、**完了したこととこれからやることを分けて書く**。
